---
import CardContenent from "@/components/base/cards/CardContenent.astro";
import type { Props as CardProps } from "@/components/base/cards/CardContenent.astro";

interface Props extends CardProps {
  startDate: string;
  endDate: string | undefined;
}

const {
  startDate,
  endDate,
  firstTitle,
  entityTitle,
  entityUrl,
  headerIcons,
  subtitle,
  summary,
  body,
  details,
  image,
  skills,
}: Props = Astro.props;

const startYear = new Date(startDate).getFullYear();
const endYear = endDate != null ? new Date(endDate).getFullYear() : "Present";
---

<div class="below-md:card-box not-cv:md:grid not-cv:md:grid-cols-12">
  <p class="text-sm font-semibold not-cv:md:col-span-2">
    <time datetime={startDate}>{startYear}</time> -
    <time datetime={endDate}>{endYear}</time>
  </p>
  <div class="vertical-timeline not-cv:md:col-span-10 not-cv:md:pb-6">
    <div class="timeline-item-points"></div>
    <CardContenent
      firstTitle={firstTitle}
      entityTitle={entityTitle}
      entityUrl={entityUrl}
      subtitle={subtitle}
      summary={summary}
      body={body}
      details={details}
      skills={skills}
      entityUrl={entityUrl}
      headerIcons={headerIcons}
      image={image}
    />
  </div>
</div>
